# -*- coding: utf-8 -*-
"""small-unptimized-nextGreater-backtracking

Automatically generated by Colab.

Original file is located at
    https://colab.research.google.com/drive/1cYVRVYGNPkhxNVcaR4uM3L6_x1oq-a77
"""

def nextGreaterElement(n):
    # Convert number to list of digits
    digits = []
    for ch in str(n):
        digits.append(ch)

    length = len(digits)

    # Step 1: find pivot
    pivot = -1
    i = length - 2
    while i >= 0:
        if digits[i] < digits[i + 1]:
            pivot = i
            break
        i -= 1

    if pivot == -1:
        return -1

    # Step 2: find next greater digit on the right
    j = length - 1
    while j > pivot:
        if digits[j] > digits[pivot]:
            temp = digits[j]
            digits[j] = digits[pivot]
            digits[pivot] = temp
            break
        j -= 1

    # Step 3: manually reverse the suffix
    left = pivot + 1
    right = length - 1
    while left < right:
        temp = digits[left]
        digits[left] = digits[right]
        digits[right] = temp
        left += 1
        right -= 1

    # Convert back to integer
    result_str = ""
    for d in digits:
        result_str += d

    result = int(result_str)

    if result <= 2**31 - 1:
        return result
    else:
        return -1


print(nextGreaterElement(23))